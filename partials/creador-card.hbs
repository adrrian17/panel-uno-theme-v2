{{!--
Re-usable card for linking to posts
--}}

<article>
    <a href="{{url}}">
        {{#if feature_image}}
            <picture>
              <source
                srcset="
                {{img_url feature_image size="xxs" format="avif"}} 30w,
                {{img_url feature_image size="xs" format="avif"}} 100w,
                {{img_url feature_image size="s" format="avif"}} 300w,
                {{img_url feature_image size="m" format="avif"}} 600w,
                {{img_url feature_image size="l" format="avif"}} 1200w,
                {{img_url feature_image size="xl" format="avif"}} 2000w"
                {{^if @first}}sizes="(min-width: 1200px) 1200px, 100vw)"{{else}}sizes="(min-width: 800px) 100vw, 700px"{{/if}}
                type="image/avif"
                {{^if @first}}loading="lazy"{{/if}}
              >
              <source
                srcset="
                {{img_url feature_image size="xxs" format="webp"}} 30w,
                {{img_url feature_image size="xs" format="webp"}} 100w,
                {{img_url feature_image size="s" format="webp"}} 300w,
                {{img_url feature_image size="m" format="webp"}} 600w,
                {{img_url feature_image size="l" format="webp"}} 1200w,
                {{img_url feature_image size="xl" format="webp"}} 2000w"
                {{^if @first}}sizes="(min-width: 1200px) 1200px, 100vw)"{{else}}sizes="(min-width: 800px) 100vw, 700px"{{/if}}
                type="image/webp"
                {{^if @first}}loading="lazy"{{/if}}

              >
              <img
                srcset="
                {{img_url feature_image size="xxs"}} 30w,
                {{img_url feature_image size="xs"}} 100w,
                {{img_url feature_image size="s"}} 300w,
                {{img_url feature_image size="m"}} 600w,
                {{img_url feature_image size="l"}} 1200w,
                {{img_url feature_image size="xl"}} 2000w"
                {{^if @first}}sizes="(min-width: 1200px) 1200px, 100vw)"{{else}}sizes="(min-width: 800px) 100vw, 700px"{{/if}}
                src="{{img_url feature_image size="m"}}"
                alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                class="rounded-xl"
                {{^if @first}}loading="lazy"{{/if}}
              >
            </picture>
        {{/if}}
        <div>
            {{#if tags}}
                <ul class="flex justify-start mt-4">
                    {{#foreach tags}}
                        {{> tags}}
                    {{/foreach}}
                </ul>
            {{/if}}
        </div>
        <div class="mt-4">
             <a href="{{url}}"><h2 class="mb-4 text-3xl font-black title font-barlow hover:underline">{{title}}</h2></a>
            <p class="text-lg font-barlow">{{excerpt}}</p>
        </div>
    </a>
</article>